{"version":3,"file":"vue-tree.min.js","sources":["../src/components/tree.vue"],"sourcesContent":["<template>\n    <transition name='fade'\n                @before-enter=\"beforeEnter\"\n                @enter=\"enter\"\n                @after-enter=\"afterEnter\"\n                @before-leave=\"beforeLeave\"\n                @leave=\"leave\"\n                @after-leave=\"afterLeave\"\n    >\n        <ul class=\"tree\" v-show=\"visible\">\n            <li class=\"treenode\" v-for=\"(item,i) in options\">\n                <i class=\"icon\" v-if=\"item.child&&item.child.length!=0\" @click=\"iconClick($event,i)\" :class=\"nodes[i].extend ? 'expand' :'shink'\"></i>\n                <slot name=\"renderContent\" :item=\"item\" :options=\"options\">\n                </slot>\n                <template v-if=\"item.child\">\n                    <vueTree :options=\"item.child\">\n                        <i class=\"icon\" v-if=\"item.child&&item.child.length!=0\" @click=\"iconClick($event,i)\" :class=\"nodes[i].extend ? 'expand' :'shink'\"></i>\n                        <template class=\"node-content\" slot=\"renderContent\" slot-scope=\"props\">\n                            <slot name=\"renderContent\" :item=\"props.item\" :options=\"props.options\"></slot>\n                        </template>\n                    </vueTree>\n                </template>\n            </li>\n        </ul>\n    </transition>\n</template>\n\n<script>\n    export default {\n        name: 'vueTree',\n        props: {\n            options: Array\n        },\n        components: {},\n        data () {\n            return {\n                visible: true,\n                nodes: []\n            }\n        },\n        created () {\n            this.extendNodeValue(this.options)\n        },\n        mounted () {\n        },\n        watch: {\n            options (value) {\n                this.extendNodeValue(value)\n            }\n        },\n        methods: {\n            iconClick(event,i){\n                var children = this.$children;\n                for (let i = 0; i < children.length; i++) {\n                    if (children[i].$el.parentElement.contains(event.target)) {\n                        children[i].visible = children[i].visible ? false : true;\n                       // this.nodes[i].extend = children[i].visible;\n                    }\n                }\n                this.nodes[i].extend = !this.nodes[i].extend;\n            },\n            extendNodeValue(options){\n                for (var i = 0; i < options.length; i++) {\n                    this.$set(this.nodes, i,{data: options[i], extend: true})\n                }\n            },\n            beforeEnter(el) {\n                if (!el.dataset) el.dataset = {};\n                el.dataset.oldPaddingTop = el.style.paddingTop;\n                el.dataset.oldPaddingBottom = el.style.paddingBottom;\n                el.style.height = '0';\n                el.style.paddingTop = 0;\n                el.style.paddingBottom = 0;\n            },\n\n            enter(el) {\n                el.dataset.oldOverflow = el.style.overflow;\n                if (el.scrollHeight !== 0) {\n                    el.style.height = el.scrollHeight + 'px';\n                    el.style.paddingTop = el.dataset.oldPaddingTop;\n                    el.style.paddingBottom = el.dataset.oldPaddingBottom;\n                } else {\n                    el.style.height = '';\n                    el.style.paddingTop = el.dataset.oldPaddingTop;\n                    el.style.paddingBottom = el.dataset.oldPaddingBottom;\n                }\n                el.style.overflow = 'hidden';\n            },\n\n            afterEnter(el) {\n                el.style.height = '';\n                el.style.overflow = el.dataset.oldOverflow;\n            },\n\n            beforeLeave(el) {\n                if (!el.dataset) el.dataset = {};\n                el.dataset.oldPaddingTop = el.style.paddingTop;\n                el.dataset.oldPaddingBottom = el.style.paddingBottom;\n                el.dataset.oldOverflow = el.style.overflow;\n\n                el.style.height = el.scrollHeight + 'px';\n                el.style.overflow = 'hidden';\n            },\n\n            leave(el) {\n                if (el.scrollHeight !== 0) {\n                    el.style.height = 0;\n                    el.style.paddingTop = 0;\n                    el.style.paddingBottom = 0;\n                }\n            },\n\n            afterLeave(el) {\n                el.style.height = '';\n                el.style.overflow = el.dataset.oldOverflow;\n                el.style.paddingTop = el.dataset.oldPaddingTop;\n                el.style.paddingBottom = el.dataset.oldPaddingBottom;\n            }\n        }\n    }\n</script>\n<style scoped>\n    ul, li {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n    }\n\n    .tree {\n        overflow: hidden;\n    }\n\n    .treenode {\n        padding-left: 30px;\n        line-height: 36px;\n    }\n\n    .node-content {\n        display: inline-block;\n    }\n\n    .icon{\n        margin-top: 10px;\n        float: left;\n        transform-origin: center 25%;\n        border-top: 10px solid #C7C7C7;\n        border-right:10px solid transparent;\n        border-bottom:10px solid transparent;\n        border-left:10px solid transparent;\n    }\n    /*img {*/\n        /*float: left;*/\n        /*padding: 8px;*/\n        /*margin-right: 8px;*/\n    /*}*/\n\n    .fade-enter-active, .fade-leave-active {\n        transition: height .5s ease;\n    }\n    .expand {\n        transition: all .5s;\n        transform: rotate(0deg);\n    }\n    .shink {\n        transition: all .5s;\n        transform: rotate(-90deg);\n    }\n</style>\n"],"names":["render","name","props","options","Array","components","data","visible","nodes","created","this","extendNodeValue","mounted","watch","value","methods","iconClick","event","i","let","children","$children","length","$el","parentElement","contains","target","extend","$set","beforeEnter","el","dataset","oldPaddingTop","style","paddingTop","oldPaddingBottom","paddingBottom","height","enter","oldOverflow","overflow","scrollHeight","afterEnter","beforeLeave","leave","afterLeave"],"mappings":"cAAA,kqCAAA,GA4BA,UAAgBA,ygCACZC,KAAM,UACNC,OACIC,QAASC,OAEbC,cACAC,gBACI,OACIC,SAAS,EACTC,WAGRC,mBACIC,KAAKC,gBAAgBD,KAAKP,UAE9BS,qBAEAC,OACIV,iBAASW,GACLJ,KAAKC,gBAAgBG,KAG7BC,SACIC,mBAAUC,EAAMC,GAEZ,IAAKC,IADDC,EAAWV,KAAKW,UACXH,EAAI,EAAGA,EAAIE,EAASE,OAAQJ,IAC7BE,EAASF,GAAGK,IAAIC,cAAcC,SAASR,EAAMS,UAC7CN,EAASF,GAAGX,SAAUa,EAASF,GAAGX,SAI1CG,KAAKF,MAAMU,GAAGS,QAAUjB,KAAKF,MAAMU,GAAGS,QAE1ChB,yBAAgBR,GACZ,IAAK,IAAIe,EAAI,EAAGA,EAAIf,EAAQmB,OAAQJ,SAC3BU,UAAUpB,MAAOU,GAAGZ,KAAMH,EAAQe,GAAIS,QAAQ,KAG3DE,qBAAYC,GACHA,EAAGC,UAASD,EAAGC,YACpBD,EAAGC,QAAQC,cAAgBF,EAAGG,MAAMC,WACpCJ,EAAGC,QAAQI,iBAAmBL,EAAGG,MAAMG,cACvCN,EAAGG,MAAMI,OAAS,IAClBP,EAAGG,MAAMC,WAAa,EACtBJ,EAAGG,MAAMG,cAAgB,GAG7BE,eAAMR,GACFA,EAAGC,QAAQQ,YAAcT,EAAGG,MAAMO,SACV,IAApBV,EAAGW,cACHX,EAAGG,MAAMI,OAASP,EAAGW,aAAe,KACpCX,EAAGG,MAAMC,WAAaJ,EAAGC,QAAQC,cACjCF,EAAGG,MAAMG,cAAgBN,EAAGC,QAAQI,mBAEpCL,EAAGG,MAAMI,OAAS,GAClBP,EAAGG,MAAMC,WAAaJ,EAAGC,QAAQC,cACjCF,EAAGG,MAAMG,cAAgBN,EAAGC,QAAQI,kBAExCL,EAAGG,MAAMO,SAAW,UAGxBE,oBAAWZ,GACPA,EAAGG,MAAMI,OAAS,GAClBP,EAAGG,MAAMO,SAAWV,EAAGC,QAAQQ,aAGnCI,qBAAYb,GACHA,EAAGC,UAASD,EAAGC,YACpBD,EAAGC,QAAQC,cAAgBF,EAAGG,MAAMC,WACpCJ,EAAGC,QAAQI,iBAAmBL,EAAGG,MAAMG,cACvCN,EAAGC,QAAQQ,YAAcT,EAAGG,MAAMO,SAElCV,EAAGG,MAAMI,OAASP,EAAGW,aAAe,KACpCX,EAAGG,MAAMO,SAAW,UAGxBI,eAAMd,GACsB,IAApBA,EAAGW,eACHX,EAAGG,MAAMI,OAAS,EAClBP,EAAGG,MAAMC,WAAa,EACtBJ,EAAGG,MAAMG,cAAgB,IAIjCS,oBAAWf,GACPA,EAAGG,MAAMI,OAAS,GAClBP,EAAGG,MAAMO,SAAWV,EAAGC,QAAQQ,YAC/BT,EAAGG,MAAMC,WAAaJ,EAAGC,QAAQC,cACjCF,EAAGG,MAAMG,cAAgBN,EAAGC,QAAQI"}